{
  "hash": "a48d2bd67e982720e507305aa02c3e4b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take-home Exercise 1 (Phase 2)\"\nauthor: \"Stefanie Felicia\"\ndate: \"May, 8 2025\"\ndate-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n\n## 1. Background\n\nObjective of this exercise:\n\n-   Review a classmate's Take-home Exercise 1 in which I chose to review <a href=\"https://isss-608-yihao-yuan.netlify.app/take-home_ex/take-home_ex01/take-home_ex01\">Yuan Yihao</a>'s work\n\n-   Critique the good design principles used in their visualization\n\n-   Create makeover version of chosen visualization\n\n\n\n    ::: {.cell}\n    \n    :::\n\n\n\n## 2. Good Design Principles Used in Visualization\n\nThere are 3 visualization are created as the following:\n\n**Population by Age and Sex**\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-home_Ex01_pt2_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n**Population by Age Group and Planning Area (Analyze the Aging Population in Each Region)**\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-home_Ex01_pt2_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n**Aging-to-Under-Age Population Ratio by Planning Area**\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-home_Ex01_pt2_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\nDesign principles implemented:\n\n-   Each graph has good color schemes, the colors between genders contrast each other that it's easy to distinguish between genders\n\n-   The usage of muted color in the Population by Age and Sex chart is helpful to highlight distribution of sex within the population\n\n-   The graph is clearly labeled in the x-axis, y-axis, title and legend - good explanation (legends) to help reader understand the context of the graph\n\n-   Population by Age Group and Planning Area has uses ordering visualization principle to highlight the planning area that has the highest aging population to lowest.\n\n## 3. Makeover Version of Chosen Visualization\n\n## 3.1 Import Libraries for Makeover\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(ggiraph, plotly, \n               patchwork, DT, tidyverse) \n```\n:::\n\n\n\n## 3.2 Makeover Version of Population by Population by Age and Sex\n\nThe graph is supposed to compare the number of population between genders and age (e.g. the number female is greater than male at the age 50, then the number of female population will be subtracted by the male population and a bar chart will be plotted). However, if we look at the graph at a glance, it might look like a distribution of the population between genders based on age chart instead.\n\nMy approach to the makeover:\n\n-   Change the chart type from bar chart to **stacked bar chart**. Though we could easily understand the which gender population is much more prominent in each age, but it isn't straight-forward. Since we want to compare the number of population between gender and age and which gender is more dominant in each age, stacked bar chart might be a better approach to compare between gender.\n\n-   Change the y-axis from count of population to **percentage** since the focus of the graph is to compare and show difference between genders. Additionally, percentage makes the difference much more visible and easier to compare than raw values.\n\n-   Use similar idea of **\"fading content that is not relevant\"** by fading the gender that has lower percentage.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngrouped_data <- res_data %>% # group population based on age and sex\n  group_by(Age, Sex) %>%\n  summarise(Pop = sum(Pop, na.rm = TRUE), .groups = \"drop\") %>%\n  group_by(Age) %>%\n  mutate(Percent = Pop / sum(Pop) * 100, # convert count into percentage\n         is_dominant = Pop == max(Pop))  # flags if gender has higher number\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(grouped_data, aes(x = Age, y = Percent, fill = Sex, alpha = is_dominant, # transparency for gender that has lower percentage\n                         width=0.6)) +\n  geom_col(position = \"stack\") + # visualize stacked bar chart\n  scale_alpha_manual(values = c(\"TRUE\" = 1, \"FALSE\" = 0.4), guide = \"none\") +  labs(\n    title = \"Age-Sex Population Structure (in Percentage)\",\n    x = \"Age\",\n    y = \"Percentage (%)\"\n  )  +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_pt2_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n::: {.callout-note title=\"Inisght\"}\n-   The population have roughly similar number of male and female population from age 0 - 27. However, the male population is still slightly higher in number than female.\n-   Age 28 above, the population is dominated by female. The trend seems go higher as the age increases.\n:::\n\n## 3.3 Makeover Version of Population by Age Group and Planning Area (Analyze the Aging Population in Each Region)\n\nThis graph compares the number of population by its age group from each planning area. The age group is separated into 3: Under age (aged 0 - 20), Adult (aged 21 - 60) and Aging (aged 61 above). The main objective of the graph is to analyze the number of aging population in each region.\n\nMy approach to the makeover:\n\n-   Similar like the previous visualization, I would change the chart type from bar chart to **stacked bar chart**. Since we want to compare values from different groups (aging, adult and under age), it is easier to see compare the difference between groups with stacked bar chart.\n\n-   Change the x-axis from count of population to **percentage**. Though we could see from the some planning area have high number of aging population, but it's difficult to see the name of the planning area due to it being zoomed out to accommodate the range of the number of population in the x-axis.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n  res_data_grouped <- res_data %>% # group population into age groups \n  mutate(AgeGroup = case_when(\n        Age >= 0 & Age <= 20 ~ \"Under Age\",\n        Age >= 21 & Age <= 60 ~ \"Adult\",\n        Age >= 61 ~ \"Aging\"\n  )) %>%\n  group_by(PA, AgeGroup) %>%\n  summarise(Pop = sum(Pop, na.rm = TRUE), .groups = \"drop\") %>%\n  group_by(PA) %>%\n  mutate(Percentage = Pop / sum(Pop) * 100) # convert frequency into percentage\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n  aging_order <- res_data_grouped %>% # reorder PA by the highest aging population\n  filter(AgeGroup == \"Aging\") %>%\n  arrange(desc(Percentage)) %>%\n  pull(PA)\n  res_data_grouped$PA <- factor(res_data_grouped$PA, levels = aging_order) # convert PA into an ordered factor\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# plot stacked bar chart\n  ggplot(res_data_grouped, aes(x = PA, y = Percentage, fill = AgeGroup)) +\n  geom_col(position = \"stack\") +\n  labs(\n        title = \"Age Group Distribution by Planning Area (in Percentage)\",\n        x = \"Planning Area\",\n        y = \"Percentage (%)\"\n      ) +\n  scale_fill_manual(values = c(\"Under Age\" = \"#e3dfde\", \"Adult\" = \"#ccc6c4\", \"Aging\" = \"#DB4437\")) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_pt2_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n\n::: {.callout-note title=\"Insight\"}\n-   The planning area with highest aging population are: Outram, Ang Mo Kio, Jurong East, Bukit Merah and Rochor\n-   Interestingly, there are planning area where there are no aging groups (i.e. Museum and Seletar)\n-   There are also some planning area that no Singapore residents live in: Boon Lay, Central Water Catchment, Chnagi Bay, etc.\n-   Overall, roughly about 50% of the population in each planning area are made up of adults or working people.\n:::\n",
    "supporting": [
      "Take-home_Ex01_pt2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}